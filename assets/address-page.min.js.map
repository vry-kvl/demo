{
  "version": 3,
  "sources": ["../../app/scripts/common/function/shopify-common.js", "../../app/scripts/address-page.js"],
  "sourcesContent": ["/*\r\n * Shopify Common JS\r\n *\r\n */\r\nif ((typeof window.Shopify) == 'undefined') {\r\n  window.Shopify = {};\r\n}\r\n\r\nShopify.bind = function(fn, scope) {\r\n  return function() {\r\n    return fn.apply(scope, arguments);\r\n  }\r\n};\r\n\r\nShopify.setSelectorByValue = function(selector, value) {\r\n  for (var i = 0, count = selector.options.length; i < count; i++) {\r\n    var option = selector.options[i];\r\n    if (value == option.value || value == option.innerHTML) {\r\n      selector.selectedIndex = i;\r\n      return i;\r\n    }\r\n  }\r\n};\r\n\r\nShopify.addListener = function(target, eventName, callback) {\r\n  target.addEventListener ? target.addEventListener(eventName, callback, false) : target.attachEvent('on'+eventName, callback);\r\n};\r\n\r\nShopify.postLink = function(path, options) {\r\n  options = options || {};\r\n  var method = options['method'] || 'post';\r\n  var params = options['parameters'] || {};\r\n\r\n  var form = document.createElement(\"form\");\r\n  form.setAttribute(\"method\", method);\r\n  form.setAttribute(\"action\", path);\r\n\r\n  for(var key in params) {\r\n    var hiddenField = document.createElement(\"input\");\r\n    hiddenField.setAttribute(\"type\", \"hidden\");\r\n    hiddenField.setAttribute(\"name\", key);\r\n    hiddenField.setAttribute(\"value\", params[key]);\r\n    form.appendChild(hiddenField);\r\n  }\r\n  document.body.appendChild(form);\r\n  form.submit();\r\n  document.body.removeChild(form);\r\n};\r\n\r\nShopify.CountryProvinceSelector = function(country_domid, province_domid, options) {\r\n  this.countryEl         = document.getElementById(country_domid);\r\n  this.provinceEl        = document.getElementById(province_domid);\r\n  this.provinceContainer = document.getElementById(options['hideElement'] || province_domid);\r\n\r\n  Shopify.addListener(this.countryEl, 'change', Shopify.bind(this.countryHandler,this));\r\n\r\n  this.initCountry();\r\n  this.initProvince();\r\n};\r\n\r\nShopify.CountryProvinceSelector.prototype = {\r\n  initCountry: function() {\r\n    var value = this.countryEl.getAttribute('data-default');\r\n    Shopify.setSelectorByValue(this.countryEl, value);\r\n    this.countryHandler();\r\n  },\r\n\r\n  initProvince: function() {\r\n    var value = this.provinceEl.getAttribute('data-default');\r\n    if (value && this.provinceEl.options.length > 0) {\r\n      Shopify.setSelectorByValue(this.provinceEl, value);\r\n    }\r\n  },\r\n\r\n  countryHandler: function(e) {\r\n    var opt       = this.countryEl.options[this.countryEl.selectedIndex];\r\n    var raw       = opt.getAttribute('data-provinces');\r\n    var provinces = JSON.parse(raw);\r\n\r\n    this.clearOptions(this.provinceEl);\r\n    if (provinces && provinces.length == 0) {\r\n      this.provinceContainer.style.display = 'none';\r\n    } else {\r\n      for (var i = 0; i < provinces.length; i++) {\r\n        var opt = document.createElement('option');\r\n        opt.value = provinces[i][0];\r\n        opt.innerHTML = provinces[i][1];\r\n        this.provinceEl.appendChild(opt);\r\n      }\r\n\r\n      this.provinceContainer.style.display = \"\";\r\n    }\r\n  },\r\n\r\n  clearOptions: function(selector) {\r\n    while (selector.firstChild) {\r\n      selector.removeChild(selector.firstChild);\r\n    }\r\n  },\r\n\r\n  setOptions: function(selector, values) {\r\n    for (var i = 0, count = values.length; i < values.length; i++) {\r\n      var opt = document.createElement('option');\r\n      opt.value = values[i];\r\n      opt.innerHTML = values[i];\r\n      selector.appendChild(opt);\r\n    }\r\n  }\r\n};", "import './common/function/shopify-common';\r\n\r\nconst selectors = {\r\n  customerAddresses: '[data-customer-addresses]',\r\n  addressCountrySelect: '[data-address-country-select]',\r\n  addressContainer: '[data-address]',\r\n  toggleAddressButton: 'button[aria-expanded]',\r\n  cancelAddressButton: 'button[type=\"reset\"]',\r\n  deleteAddressButton: 'button[data-confirm-message]'\r\n};\r\n\r\nconst attributes = {\r\n  expanded: 'aria-expanded',\r\n  confirmMessage: 'data-confirm-message'\r\n};\r\n\r\nclass CustomerAddresses {\r\n  constructor() {\r\n    this.elements = this._getElements();\r\n\r\n    if (Object.keys(this.elements).length === 0) return;\r\n\r\n    this._setupCountries();\r\n    this._setupEventListeners();\r\n  }\r\n\r\n  _getElements() {\r\n    const container = document.querySelector(selectors.customerAddresses);\r\n    return container ? {\r\n      container,\r\n      addressContainer: container.querySelector(selectors.addressContainer),\r\n      toggleButtons: document.querySelectorAll(selectors.toggleAddressButton),\r\n      cancelButtons: container.querySelectorAll(selectors.cancelAddressButton),\r\n      deleteButtons: container.querySelectorAll(selectors.deleteAddressButton),\r\n      countrySelects: container.querySelectorAll(selectors.addressCountrySelect)\r\n    } : {};\r\n  }\r\n\r\n  _setupCountries() {\r\n    if (Shopify && Shopify.CountryProvinceSelector) {\r\n\r\n      // eslint-disable-next-line no-new\r\n      new Shopify.CountryProvinceSelector('AddressCountryNew', 'AddressProvinceNew', {\r\n        hideElement: 'AddressProvinceContainerNew'\r\n      });\r\n\r\n      this.elements.countrySelects.forEach((select) => {\r\n        const formId = select.dataset.formId;\r\n        // eslint-disable-next-line no-new\r\n        new Shopify.CountryProvinceSelector(`AddressCountry${formId}`, `AddressProvince${formId}`, {\r\n          hideElement: `AddressProvinceContainer${formId}`\r\n        });\r\n      });\r\n    }\r\n  }\r\n\r\n  _setupEventListeners() {\r\n    this.elements.toggleButtons.forEach((element) => {\r\n      element.addEventListener('click', this._handleAddEditButtonClick);\r\n    });\r\n    this.elements.cancelButtons.forEach((element) => {\r\n      element.addEventListener('click', this._handleCancelButtonClick);\r\n    });\r\n    this.elements.deleteButtons.forEach((element) => {\r\n      element.addEventListener('click', this._handleDeleteButtonClick);\r\n    });\r\n  }\r\n\r\n  _toggleExpanded(target) {\r\n    target.setAttribute(\r\n      attributes.expanded,\r\n      (target.getAttribute(attributes.expanded) === 'false').toString()\r\n    );\r\n  }\r\n\r\n  _handleAddEditButtonClick = ({ currentTarget }) => {\r\n    this._toggleExpanded(currentTarget);\r\n  }\r\n\r\n  _handleCancelButtonClick = ({ currentTarget }) => {\r\n    this._toggleExpanded(\r\n      currentTarget\r\n        .closest(selectors.addressContainer)\r\n        .querySelector(`[${attributes.expanded}]`)\r\n    )\r\n  }\r\n\r\n  _handleDeleteButtonClick = ({ currentTarget }) => {\r\n    // eslint-disable-next-line no-alert\r\n    if (confirm(currentTarget.getAttribute(attributes.confirmMessage))) {\r\n      Shopify.postLink(currentTarget.dataset.target, {\r\n        parameters: { _method: 'delete' },\r\n      });\r\n    }\r\n  }\r\n}\r\n\r\nwindow.addEventListener('load', ()=>{\r\n  new CustomerAddresses();\r\n})"],
  "mappings": "MAIA,AAAK,MAAO,QAAO,SAAY,aAC7B,QAAO,QAAU,IAGnB,QAAQ,KAAO,SAAS,EAAI,EAAO,CACjC,MAAO,WAAW,CAChB,MAAO,GAAG,MAAM,EAAO,aAI3B,QAAQ,mBAAqB,SAAS,EAAU,EAAO,CACrD,OAAS,GAAI,EAAG,EAAQ,EAAS,QAAQ,OAAQ,EAAI,EAAO,IAAK,CAC/D,GAAI,GAAS,EAAS,QAAQ,GAC9B,GAAI,GAAS,EAAO,OAAS,GAAS,EAAO,UAC3C,SAAS,cAAgB,EAClB,IAKb,QAAQ,YAAc,SAAS,EAAQ,EAAW,EAAU,CAC1D,EAAO,iBAAmB,EAAO,iBAAiB,EAAW,EAAU,IAAS,EAAO,YAAY,KAAK,EAAW,IAGrH,QAAQ,SAAW,SAAS,EAAM,EAAS,CACzC,EAAU,GAAW,GACrB,GAAI,GAAS,EAAQ,QAAa,OAC9B,EAAS,EAAQ,YAAiB,GAElC,EAAO,SAAS,cAAc,QAClC,EAAK,aAAa,SAAU,GAC5B,EAAK,aAAa,SAAU,GAE5B,OAAQ,KAAO,GAAQ,CACrB,GAAI,GAAc,SAAS,cAAc,SACzC,EAAY,aAAa,OAAQ,UACjC,EAAY,aAAa,OAAQ,GACjC,EAAY,aAAa,QAAS,EAAO,IACzC,EAAK,YAAY,GAEnB,SAAS,KAAK,YAAY,GAC1B,EAAK,SACL,SAAS,KAAK,YAAY,IAG5B,QAAQ,wBAA0B,SAAS,EAAe,EAAgB,EAAS,CACjF,KAAK,UAAoB,SAAS,eAAe,GACjD,KAAK,WAAoB,SAAS,eAAe,GACjD,KAAK,kBAAoB,SAAS,eAAe,EAAQ,aAAkB,GAE3E,QAAQ,YAAY,KAAK,UAAW,SAAU,QAAQ,KAAK,KAAK,eAAe,OAE/E,KAAK,cACL,KAAK,gBAGP,QAAQ,wBAAwB,UAAY,CAC1C,YAAa,UAAW,CACtB,GAAI,GAAQ,KAAK,UAAU,aAAa,gBACxC,QAAQ,mBAAmB,KAAK,UAAW,GAC3C,KAAK,kBAGP,aAAc,UAAW,CACvB,GAAI,GAAQ,KAAK,WAAW,aAAa,gBACzC,AAAI,GAAS,KAAK,WAAW,QAAQ,OAAS,GAC5C,QAAQ,mBAAmB,KAAK,WAAY,IAIhD,eAAgB,SAAS,EAAG,CAC1B,GAAI,GAAY,KAAK,UAAU,QAAQ,KAAK,UAAU,eAClD,EAAY,EAAI,aAAa,kBAC7B,EAAY,KAAK,MAAM,GAG3B,GADA,KAAK,aAAa,KAAK,YACnB,GAAa,EAAU,QAAU,EACnC,KAAK,kBAAkB,MAAM,QAAU,WAClC,CACL,OAAS,GAAI,EAAG,EAAI,EAAU,OAAQ,IAAK,CACzC,GAAI,GAAM,SAAS,cAAc,UACjC,EAAI,MAAQ,EAAU,GAAG,GACzB,EAAI,UAAY,EAAU,GAAG,GAC7B,KAAK,WAAW,YAAY,GAG9B,KAAK,kBAAkB,MAAM,QAAU,KAI3C,aAAc,SAAS,EAAU,CAC/B,KAAO,EAAS,YACd,EAAS,YAAY,EAAS,aAIlC,WAAY,SAAS,EAAU,EAAQ,CACrC,OAAS,GAAI,EAAG,EAAQ,EAAO,OAAQ,EAAI,EAAO,OAAQ,IAAK,CAC7D,GAAI,GAAM,SAAS,cAAc,UACjC,EAAI,MAAQ,EAAO,GACnB,EAAI,UAAY,EAAO,GACvB,EAAS,YAAY,MCvG3B,GAAM,GAAY,CAChB,kBAAmB,4BACnB,qBAAsB,gCACtB,iBAAkB,iBAClB,oBAAqB,wBACrB,oBAAqB,uBACrB,oBAAqB,gCAGjB,EAAa,CACjB,SAAU,gBACV,eAAgB,wBAGlB,OAAwB,CACtB,aAAc,CAGZ,AAFA,KAAK,SAAW,KAAK,eAEjB,OAAO,KAAK,KAAK,UAAU,SAAW,GAE1C,MAAK,kBACL,KAAK,wBAGP,cAAe,CACb,GAAM,GAAY,SAAS,cAAc,EAAU,mBACnD,MAAO,GAAY,CACjB,YACA,iBAAkB,EAAU,cAAc,EAAU,kBACpD,cAAe,SAAS,iBAAiB,EAAU,qBACnD,cAAe,EAAU,iBAAiB,EAAU,qBACpD,cAAe,EAAU,iBAAiB,EAAU,qBACpD,eAAgB,EAAU,iBAAiB,EAAU,uBACnD,GAGN,iBAAkB,CAChB,AAAI,SAAW,QAAQ,yBAGrB,IAAI,SAAQ,wBAAwB,oBAAqB,qBAAsB,CAC7E,YAAa,gCAGf,KAAK,SAAS,eAAe,QAAQ,AAAC,GAAW,CAC/C,GAAM,GAAS,EAAO,QAAQ,OAE9B,GAAI,SAAQ,wBAAwB,iBAAiB,IAAU,kBAAkB,IAAU,CACzF,YAAa,2BAA2B,SAMhD,sBAAuB,CACrB,KAAK,SAAS,cAAc,QAAQ,AAAC,GAAY,CAC/C,EAAQ,iBAAiB,QAAS,KAAK,6BAEzC,KAAK,SAAS,cAAc,QAAQ,AAAC,GAAY,CAC/C,EAAQ,iBAAiB,QAAS,KAAK,4BAEzC,KAAK,SAAS,cAAc,QAAQ,AAAC,GAAY,CAC/C,EAAQ,iBAAiB,QAAS,KAAK,4BAI3C,gBAAgB,EAAQ,CACtB,EAAO,aACL,EAAW,SACV,GAAO,aAAa,EAAW,YAAc,SAAS,YAI3D,0BAA4B,CAAC,CAAE,mBAAoB,CACjD,KAAK,gBAAgB,IAGvB,yBAA2B,CAAC,CAAE,mBAAoB,CAChD,KAAK,gBACH,EACG,QAAQ,EAAU,kBAClB,cAAc,IAAI,EAAW,eAIpC,yBAA2B,CAAC,CAAE,mBAAoB,CAEhD,AAAI,QAAQ,EAAc,aAAa,EAAW,kBAChD,QAAQ,SAAS,EAAc,QAAQ,OAAQ,CAC7C,WAAY,CAAE,QAAS,cAM/B,OAAO,iBAAiB,OAAQ,IAAI,CAClC,GAAI",
  "names": []
}
